const e={autocomplete:{type:String},autofocus:{type:Boolean},disabled:{type:Boolean},helpText:{type:String},id:{type:String},label:{type:String},name:{type:String,required:!0},readonly:{type:Boolean},required:{type:Boolean},size:{type:Number,default:20},tabindex:{type:Number},title:{type:String}},t={...e,inline:{type:Boolean},multiple:{type:Boolean,default:!1},options:{type:Array}};class r{constructor(e,t,r=!1){this.label=e,this.options=t,this.disabled=r}}class i{constructor(e,t,r=!1,i=!1){this.label=e,this.value=t,this.selected=r,this.disabled=i}}const n=Object.freeze({CHECKBOX:"checkbox",COLOR:"color",DATE:"date",DATE_TIME:"datetime-local",EMAIL:"email",FILE:"file",HIDDEN:"hidden",MONTH:"month",NUMBER:"number",PASSWORD:"password",RADIO:"radio",RANGE:"range",SEARCH:"search",SUBMIT:"submit",TEL:"tel",TEXT:"text",TIME:"time",URL:"url",WEEK:"week"}),l=[n.DATE,n.MONTH,n.WEEK,n.TIME,n.DATE_TIME,n.NUMBER,n.RANGE],o=[n.PASSWORD,n.SEARCH,n.TEL,n.TEXT,n.URL],s=(n.HIDDEN,n.SUBMIT,{...e,accept:{type:String},capture:{type:String},checked:{type:Boolean,default:!1},dirname:{type:String},inline:{type:Boolean},inputmode:{type:String},list:{type:String},max:{type:Number,default:Number.MAX_VALUE},maxlength:{type:Number,default:0},min:{type:Number,default:Number.MIN_VALUE},minlength:{type:Number,default:0},multiple:{type:Boolean,default:!1},pattern:{type:String},placeholder:{type:String},step:{type:Number,default:1},switch:{type:Boolean},type:{type:String,default:"text"},value:{type:String}}),a={accept:[n.FILE],capture:[n.FILE],dirname:[n.SEARCH,n.TEXT],max:l,maxlength:o,min:l,minlength:o,multiple:[n.EMAIL,n.FILE],pattern:[n.PASSWORD,n.TEL,n.TEXT],placeholder:o,size:[n.EMAIL,n.PASSWORD,n.TEL,n.TEXT],step:l,tabindex:Object.values(n)},p={max:Number.MAX_VALUE,maxlength:s.maxlength.default,min:Number.MIN_VALUE,minlength:s.minlength.default,multiple:s.multiple.default,size:s.size.default,step:1,tabindex:0},u=["id","label","helpText"];function toKebabCase(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function setBooleanAttribute(e,t,r,i){const n=function(e){return e||void 0}(i),l=toKebabCase(t);e.hasAttribute(l)&&!n?e.removeAttribute(l):n&&e.setAttribute(l,"")}function setNumericAttribute(e,t,r,i,n){let l=i;a[t]&&(l=function(e,t,r,i){return-1!==t.indexOf(e.type)&&0!==r&&r!==i?r:void 0}(n,a[t],i,p[t]));const o=toKebabCase(t);e.hasAttribute(o)&&null==l?e.removeAttribute(o):null!=l&&e.setAttribute(o,l)}function setAttribute(e,t,r,i,n){if(function(e){return-1!==u.indexOf(e)}(t))return;let l=r;a[t]&&(l=function(e,t,r,i){return-1!==t.indexOf(e.type)&&r!==i?r:void 0}(i,a[t],r));const o=toKebabCase(t);e.hasAttribute(o)&&null==l?e.removeAttribute(o):null!=l&&e.setAttribute(o,l)}function setAttributes(e,t,r){for(const i in r)switch(t[i].type){case Boolean:setBooleanAttribute(e,i,t[i],r[i]);break;case Number:setNumericAttribute(e,i,t[i],r[i],r);break;default:setAttribute(e,i,r[i],r)}}function createSelect({createComponent:e,renderer:n,html:l,nothing:o=""}){const createOption=e=>{const t=document.createElement("option");return t.setAttribute("value",e.value),t.textContent=e.label,e.selected&&t.setAttribute("selected",""),e.disabled&&t.setAttribute("disabled",""),t};e("fc-form-select",{renderer:n,props:t,computed:{internalId(){return this.props.id?this.props.id:`${(e="select")?e+"-":""}${Date.now().toString(36)+Math.random().toString(36).substr(2)}`;var e},labelClassName(){return"fc-form__label"+(this.props.inline?"":" fc-form__label--block")},for(){return this.props.label?this.internalId:""},selectOptions(){return this.props.options?Array.isArray(this.props.options)?this.props.options.map((e=>e instanceof r?l`<optgroup label="${e.label}" disabled="${e.disabled?e.disabled:void 0}">${e.options.map((e=>createOption(e)))}</optgroup>`:e instanceof i?createOption(e):(console.error("Unknown option - must be an instance of OptGroup or Option"),o))):(console.error("Options must be an array of OptGroup or Option instances"),[]):this.slots.default?this.slots.default.filter((e=>e.nodeType===Node.ELEMENT_NODE&&"option"===e.tagName.toLowerCase())).map((e=>new i(e.text,e.value,e.selected,e.disabled))).map((e=>createOption(e))):[]}},mounted(){setAttributes(this.querySelector("select"),t,this.props)},updated(){setAttributes(this.querySelector("select"),t,this.props)},render(){return l`<div class="${this.props.inline?"fc-form__group fc-form__group--inline":"fc-form__group"}"><div class="${this.props.multiple?"fc-form__select fc-form__select--multiple":"fc-form__select"}"><label class="${this.labelClassName}" for="${this.for}">${this.props.label}</label> <select id="${this.internalId}" name="${this.props.name}">${this.selectOptions}</select></div><div aria-live="polite" class="fc-form__invalid-feedback"><span></span></div><div class="fc-form__help-text">${this.props.helpText}</div></div>`}})}const c={create(e){createSelect(e)}};export{r as OptGroup,i as Option,c as module};
